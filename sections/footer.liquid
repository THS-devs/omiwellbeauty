<footer class="footer section-{{ section.id }}-padding">
  <div class="container-fluid lg">
    <div class="footer__content-bottom">
      <div class="footer__content-bottom-wrapper page-width">
        <div class="flex-wpr">
          <div class="logo-wpr">
            <img loading="lazy" src="https://cdn.shopify.com/s/files/1/0267/3537/8613/files/OmiLogo-Sand.webp?v=1729255966">

            {%- for block in section.blocks -%} 
              {%- if block.type == 'text' -%}
                {% assign heading = block.settings.heading %}
                {% assign subtitle = block.settings.subtext  %}

                <div class="footer-text">
                  {%- if heading != blank -%}
                    <p class="block-text lg">{{ heading }}</p>
                  {%- endif -%}

                  {%- if subtitle != blank -%}
                    {{ subtitle }}
                  {%- endif -%}
                </div>
              {%- endif -%}
            {%- endfor -%}

            <div class="form-wpr">
              <form>
                <input type="email" value="" placeholder="Enter Your Email">
              </form>
            </div>

            {%- for block in section.blocks -%} 
              {%- if block.type == 'social_icons' -%}
                <div class="social-icons-wpr">
                  <div class="social-icons">
                    {% assign facebook_image = block.settings.facebook_image %}
                    {% assign facebook_link = block.settings.facebook_link %}
                    {% assign tiktok_image = block.settings.tiktok_image %}
                    {% assign tiktok_link = block.settings.tiktok_link %}
                    {% assign instagram_image = block.settings.instagram_image %}
                    {% assign instagram_link = block.settings.instagram_link %}
                    {% assign youtube_image = block.settings.youtube_image %}
                    {% assign youtube_link = block.settings.youtube_link %}

                    {% if facebook_image != blank or facebook_link != blank %}
                      <div class="social-icon facebook">
                        <a href="{{ facebook_link }}">
                          {{ facebook_image | image_url: width: 50 | image_tag }}
                        </a>
                      </div>
                    {% endif %}

                    {% if tiktok_image != blank or tiktok_link != blank %}
                      <div class="social-icon tiktok">
                        <a href="{{ tiktok_link }}">
                          {{ tiktok_image | image_url: width: 50 | image_tag }}
                        </a>
                      </div>
                    {% endif %}

                    {% if instagram_image != blank or instagram_link != blank %}
                      <div class="social-icon instagram">
                        <a href="{{ instagram_link }}">
                          {{ instagram_image | image_url: width: 50 | image_tag }}
                        </a>
                      </div>
                    {% endif %}

                    {% if youtube_image != blank or youtube_link != blank %}
                      <div class="social-icon youtube">
                        <a href="{{ youtube_link }}">
                          {{ youtube_image | image_url: width: 50 | image_tag }}
                        </a>
                      </div>
                    {% endif %}
                    
                  </div>
                </div>
              {%- endif -%}
            {%- endfor -%}
          </div>
          <div class="menu-wpr">
            {%- for block in section.blocks -%} 
              {%- if block.type == 'link_list' -%} 

                {%- if forloop.index < 3 -%}
                
                {%- if forloop.index == 1 -%}
                  <div class="menu-container">
                {%- endif -%}

                <div class="footer-main-wpr">
                  {% assign heading = block.settings.heading %}

                  {% if heading != blank %}
                    <div class="menu-heading"><h5 class="block-text">{{ heading }}</h5></div>
                  {% endif %}

                  <ul class="footer-main" role="list"> 
                    {%- for link in block.settings.menu.links -%}
                      <li class="item">
                        <a href="{{ link.url }}">{{ link.title }}</a>
                      </li>
                    {%- endfor -%}
                  </ul>
                </div>

                {%- if forloop.index == 2 -%}
                  </div> <!-- Close the first-two-container after the second item -->
                {%- endif -%}
                {%- endif -%}

                {%- if forloop.index == 3 -%} 
                  <div class="menu-container">
                    <div class="footer-main-wpr">
                      {% assign heading = block.settings.heading %}
            
                      {% if heading != blank %}
                        <div class="menu-heading"><h5 class="block-text">{{ heading }}</h5></div>
                      {% endif %}
            
                      <ul class="footer-main" role="list"> 
                        {%- for link in block.settings.menu.links -%}
                          <li class="item">
                            <a href="{{ link.url }}">{{ link.title }}</a>
                          </li>
                        {%- endfor -%}
                      </ul>
                    </div>
                  </div> <!-- Close the last-container -->
                {%- endif -%}

              {%- endif -%}
            {%- endfor -%}
          </div>

        </div>
      </div>
      {%- if section.settings.show_policy -%}
        <ul class="policies list-unstyled">
          {%- for policy in shop.policies -%}
            {%- if policy != blank -%}
              <li>
                <small class="copyright__content"><a href="{{ policy.url }}">{{ policy.title | escape }}</a></small>
              </li>
            {%- endif -%}
          {%- endfor -%}
        </ul>
      {%- endif -%}
      <div class="footer__content-bottom-wrapper page-width">
        <div class="footer__copyright caption">
          <p class="copyright__content sm">&copy; {{ 'now' | date: '%Y' }}, {{ shop.name | link_to: routes.root_url -}}. All Rights Reserved</p>
        </div>
      </div>
    </div>
  </div>
</footer>

{% schema %}
{
  "name": "t:sections.footer.name",
  "blocks": [
    {
      "type": "@app"
    },
    {
      "type": "link_list",
      "name": "t:sections.footer.blocks.link_list.name",
      "settings": [
        {
          "type": "inline_richtext",
          "id": "heading",
          "default": "t:sections.footer.blocks.link_list.settings.heading.default",
          "label": "t:sections.footer.blocks.link_list.settings.heading.label"
        },
        {
          "type": "link_list",
          "id": "menu",
          "default": "footer",
          "label": "t:sections.footer.blocks.link_list.settings.menu.label",
          "info": "t:sections.footer.blocks.link_list.settings.menu.info"
        }
      ]
    },
    {
      "type": "text",
      "name": "t:sections.footer.blocks.text.name",
      "settings": [
        {
          "type": "inline_richtext",
          "id": "heading",
          "default": "t:sections.footer.blocks.text.settings.heading.default",
          "label": "t:sections.footer.blocks.text.settings.heading.label"
        },
        {
          "type": "richtext",
          "id": "subtext",
          "default": "t:sections.footer.blocks.text.settings.subtext.default",
          "label": "t:sections.footer.blocks.text.settings.subtext.label"
        }
      ]
    },
    {
      "type": "image",
      "name": "Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "range",
          "id": "image_width",
          "min": 50,
          "max": 550,
          "step": 5,
          "unit": "px",
          "label": "Image width",
          "default": 100
        },
        {
          "type": "select",
          "id": "alignment",
          "label": "Image alignment on large screen",
          "options": [
            {
              "value": "",
              "label": "Left"
            },
            {
              "value": "center",
              "label": "Center"
            },
            {
              "value": "right",
              "label": "Right"
            }
          ],
          "default": "center"
        }
      ]
    },
    {
      "type": "social_icons",
      "name": "Social Icons",
      "settings": [
        {
          "type": "image_picker",
          "id": "facebook_image",
          "label": "Facebook Image"
        },
        {
          "type": "text",
          "id": "facebook_link",
          "label": "Facebook Link"
        },
        {
          "type": "image_picker",
          "id": "tiktok_image",
          "label": "Tiktok Image"
        },
        {
          "type": "text",
          "id": "tiktok_link",
          "label": "Tiktok Link"
        },
        {
          "type": "image_picker",
          "id": "instagram_image",
          "label": "Instagram Image"
        },
        {
          "type": "text",
          "id": "instagram_link",
          "label": "Instagram Link"
        },
        {
          "type": "image_picker",
          "id": "youtube_image",
          "label": "Youtube Image"
        },
        {
          "type": "text",
          "id": "youtube_link",
          "label": "Youtube Link"
        }
      ]
    }
  ],
  "settings": [
    {
      "type": "checkbox",
      "id": "show_policy",
      "default": true,
      "label": "t:sections.footer.settings.show_policy.label"
    }
  ],
  "default": {
    "blocks": [
      {
        "type": "link_list"
      },
      {
        "type": "text"
      }
    ]
  }
}
{% endschema %}
